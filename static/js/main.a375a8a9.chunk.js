(this.webpackJsonp4_expense_tracker=this.webpackJsonp4_expense_tracker||[]).push([[0],{25:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(18),r=n.n(s),o=(n(25),n(9)),i=n(10),u=n(20),j=n(14),d=n.n(j),l=n(19),b=n(15);n(30);b.a.initializeApp({apiKey:"AIzaSyCLutLMBqG00EiWikKVxTsnKE7fad2CXTg",authDomain:"expense-tracker-36984.firebaseapp.com",projectId:"expense-tracker-36984",storageBucket:"expense-tracker-36984.appspot.com",messagingSenderId:"1061226300855",appId:"1:1061226300855:web:92f55ea196f02ea4551432"});var p=b.a.firestore(),O=p.collection("expenses"),x=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.add(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e,t){switch(t.type){case"DELETE_TRANSACTION":n=t.payload,O.doc(n).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.log("Error removing document: ",e)}));break;case"ADD_TRANSACTION":return x(t.payload),Object(i.a)(Object(i.a)({},e),{},{transactions:[t.payload].concat(Object(u.a)(e.transactions))});default:return e}var n},f=n(1),m=Object(c.createContext)(),v=function(e){var t=e.children,n=Object(c.useState)({transactions:[]}),a=Object(o.a)(n,2),s=a[0],r=a[1];Object(c.useEffect)((function(){p.collection("expenses").onSnapshot((function(e){e.empty&&console.log("empty snap");var t=[];e.forEach((function(e){t.push(Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id})),console.log(e.data())})),console.log(t),r({transactions:t})}))}),[]),console.log(s);var u=Object(c.useReducer)(h,s),j=Object(o.a)(u,2),d=j[0],l=j[1];console.log(d);return Object(f.jsx)(m.Provider,{value:{transactions:s.transactions,deleteTransaction:function(e){l({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){l({type:"ADD_TRANSACTION",payload:e})}},children:t})},N=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),r=Object(o.a)(s,2),i=r[0],u=r[1],j=Object(c.useContext)(m).addTransaction,d={name:n,amount:+i,fakeId:1e4*Math.random()};return Object(f.jsxs)("div",{className:"comp add-trans",children:[Object(f.jsx)("h3",{children:"Add New Transaction"}),Object(f.jsx)("h4",{children:"Name"}),Object(f.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)},placeholder:"Enter name of the transaction"}),Object(f.jsx)("h4",{children:"Money"}),Object(f.jsx)("input",{value:i,onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("button",{type:"submit",className:"btn",onClick:function(){return j(d)},children:"Add"})]})},g=function(){var e=Object(c.useContext)(m).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);return Object(f.jsxs)("div",{className:"comp",children:[Object(f.jsx)("h4",{children:"Your Balance"}),Object(f.jsxs)("h1",{children:["$",e]})]})},y=function(){return Object(f.jsx)("div",{className:"comp",children:Object(f.jsx)("h2",{children:"Expense Tracker"})})},T=function(){var e=Object(c.useContext)(m).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0),n=Math.abs(e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0));return Object(f.jsxs)("div",{className:"comp",id:"InEx",children:[Object(f.jsxs)("div",{className:"in",children:["Incomes",Object(f.jsxs)("span",{className:"gain",children:["$",t]})]}),Object(f.jsxs)("div",{className:"ex",children:["Expenses",Object(f.jsxs)("span",{className:"pain",children:["$",n]})]})]})},k=function(e){var t=e.transaction,n=Object(c.useContext)(m).deleteTransaction;return Object(f.jsxs)("li",{className:(t.amount>0?"more":" less")+" trans",children:[Object(f.jsx)("span",{id:"name",children:t.name}),Object(f.jsx)("span",{id:"amount",children:Math.abs(t.amount)}),Object(f.jsx)("span",{id:"delete-btn",onClick:function(){return n(t.id)},children:"X"})]})},C=function(){var e=Object(c.useContext)(m).transactions;return Object(f.jsxs)("div",{className:"comp",children:[Object(f.jsx)("h3",{children:"History"}),Object(f.jsx)("ul",{children:e.map((function(e){return Object(f.jsx)(k,{transaction:e},e.fakeId)}))})]})};var E=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(v,{children:[Object(f.jsx)(y,{}),Object(f.jsx)(g,{}),Object(f.jsx)(T,{}),Object(f.jsx)(C,{}),Object(f.jsx)(N,{})]})})};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.a375a8a9.chunk.js.map